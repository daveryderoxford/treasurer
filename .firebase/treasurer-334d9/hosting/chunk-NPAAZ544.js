import{$ as u,$a as fe,Ab as R,Bb as T,Cb as O,Eb as xe,Fb as j,Gb as J,Hb as N,Ib as G,Jb as q,Kb as V,Lb as ke,Oa as ae,Pa as se,Qa as D,T as y,U as K,Ua as ce,W as k,Wa as le,Xa as me,Ya as de,Za as ue,_ as M,_a as pe,ab as he,ba as C,bb as kt,c as Yt,ca as S,cb as ge,db as _e,e as w,eb as wt,f as $,ga as A,h as xt,ha as F,i as Jt,ia as I,ib as ve,ka as re,la as X,lb as ye,ma as x,na as ne,oa as oe,q as te,r as ee,rb as Y,sb as E,tb as P,vb as L,wb as mt,y as ie,zb as B}from"./chunk-YGAWG4U5.js";import{$b as _t,$c as St,Bb as H,Cb as Wt,Cc as Kt,Db as h,Fa as W,Ga as Gt,Ib as Ht,Lc as ct,Mb as a,Nb as s,Nc as Xt,Ob as p,Rb as Qt,Sa as ot,Tb as Zt,Ub as g,Vb as $t,Vc as be,Wb as gt,Wc as Mt,Yc as lt,Zc as Ct,a as Q,aa as Rt,ac as bt,bc as vt,dc as c,e as v,ec as Z,fc as yt,gb as d,hb as l,jb as qt,k as z,kc as b,la as _,ma as rt,na as st,oa as Tt,pa as Ot,qb as Vt,sa as jt,tb as Ut,va as Nt,wa as nt,wb as zt,ya as ht}from"./chunk-NXMLWIY6.js";function Fe(n,r){n&1&&(a(0,"mat-hint",2),c(1,"Passwords do not match"),s())}var dt=(()=>{let r=class r{constructor(e,t,i){this.router=e,this.formBuilder=t,this.afAuth=i,this.error="",this.form=this.formBuilder.group({password:["",u.required],confirmPassword:["",u.required]},{validator:this.passwordMissMatch})}passwordMissMatch(e){let t=e.get("password"),i=e.get("confirmPassword"),o={};return(t.touched||i.touched)&&t.value!==i.value&&i!==null&&(o={passwordMissMatch:!0}),o}changePassword(){return v(this,null,function*(){let e=yield this.afAuth.currentUser,t=this.form.get("password").value;this.error="";try{yield he(e,t),this.router.navigateByUrl("/")}catch(i){i instanceof Error&&console.log("SignupComponent: Error updating password:"+i.message),this.error="Error updating password"}})}};r.\u0275fac=function(t){return new(t||r)(l(w),l(X),l(D))},r.\u0275cmp=_({type:r,selectors:[["app-change-password"]],standalone:!0,features:[b],decls:21,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start center","fxFlexFill","",1,"gray"],["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","10px"],[1,"error"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","","fxLayoutAlign","space-around"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","on"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm Password"],["class","error",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary","type","submit","aria-label","Change Password",3,"disabled"]],template:function(t,i){t&1&&(a(0,"app-toolbar"),c(1,"Change Password"),s(),a(2,"div",0)(3,"div",1)(4,"div",2),c(5),s(),a(6,"mat-card")(7,"form",3),g("ngSubmit",function(){return i.changePassword()}),a(8,"div",4)(9,"mat-form-field"),p(10,"input",5),a(11,"mat-error"),c(12,"Password required"),s()(),a(13,"mat-form-field"),p(14,"input",6),a(15,"mat-error"),c(16,"Confirm password required"),s(),H(17,Fe,2,0,"mat-hint",7),s(),a(18,"div",8)(19,"button",9),c(20,"Set Password"),s()()()()()()()),t&2&&(d(5),Z(i.error),d(2),h("formGroup",i.form),d(10),h("ngIf",i.form.errors&&i.form.errors.passwordMissMatch),d(2),h("disabled",i.form.invalid))},dependencies:[Y,V,q,G,N,j,J,P,E,x,A,M,C,S,F,I,R,B,mt,L,O,T,ct,k,y],styles:[".fill-client-area[_ngcontent-%COMP%]{width:100%;height:100%;background:#d1d1d1}.gray[_ngcontent-%COMP%]{background:#d1d1d1}.error[_ngcontent-%COMP%]{color:red}.horizontal_rule[_ngcontent-%COMP%]{border-bottom:1px solid rgb(209,209,209);width:100%;text-align:center}"]});let n=r;return n})();var Ie=new ae,De=new se,Ee=()=>window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://"),ut=(()=>{let r=class r{constructor(e,t,i,o){this.route=e,this.router=t,this.formBuilder=i,this.afAuth=o,this.loginForm=this.formBuilder.group({email:["",[u.required,u.email]],password:["",u.required]}),this.error="",this.loading=!1,this.returnUrl=""}ngOnInit(){this.route.queryParams.subscribe(e=>{this.returnUrl=e.returnUrl}),this.error=""}loginFormSubmit(){return v(this,null,function*(){this.loginForm.valid&&(yield this.signInWith("EmailAndPassword",this.loginForm.value))})}signInWith(e,t){return v(this,null,function*(){try{switch(this.loading=!0,this.error="",e){case"EmailAndPassword":yield ue(this.afAuth,t.email,t.password);break;case"Google":yield this._thirdPartySignIn(De);break;case"Facebook":yield this._thirdPartySignIn(Ie);break}this._handleSignInSuccess()}catch(i){this._handleSigninError(i)}finally{this.loading=!1}})}_thirdPartySignIn(e){return v(this,null,function*(){if(Ee()){yield fe(this.afAuth,e);let t=yield le(this.afAuth);return t===null||t.user===null?null:t}else return yield pe(this.afAuth,e)})}_handleSigninError(e){console.log("LoginComponent: Error loging in.  Error code:"+ +e.code+"  "+e.message),this.error="Login attempt failed"}_handleSignInSuccess(){console.log("LoginComponent: Successful login"),this.error="",this.router.navigateByUrl(this.returnUrl)}};r.\u0275fac=function(t){return new(t||r)(l(Yt),l(w),l(X),l(D))},r.\u0275cmp=_({type:r,selectors:[["app-login"]],standalone:!0,features:[b],decls:33,vars:2,consts:[["color","primary"],["fxLayout","column","fxLayoutAlign","start center","fxFlexFill",""],["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","10px"],[1,"error"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxFlexFill","","fxLayoutAlign","center","fxLayoutGap","10px"],["matInput","","formControlName","email","type","email","placeholder","Email","autocomplete","on"],["matInput","","formControlName","password","type","password","placeholder","Password","autocomplete","on"],["fxLayout","row","fxLayoutAlign","center"],["mat-raised-button","","color","primary","type","submit","aria-label","login"],["fxLayout","row","fxLayoutAlign","space-between"],["mat-button","","routerLink","/auth/recover"],["mat-button","","routerLink","/auth/signup"],[1,"horizontal_rule"],["mat-raised-button","","color","primary","fxFlexAlign","stretch",3,"click"]],template:function(t,i){t&1&&(a(0,"mat-toolbar",0),c(1,"IBRSC Expenses - Login"),s(),a(2,"div",1)(3,"div",2)(4,"div",3),c(5),s(),a(6,"mat-card")(7,"div",2)(8,"form",4),g("ngSubmit",function(){return i.loginFormSubmit()}),a(9,"div",5)(10,"mat-form-field"),p(11,"input",6),a(12,"mat-error"),c(13,"Invalid email"),s()(),a(14,"mat-form-field"),p(15,"input",7),a(16,"mat-error"),c(17,"Password required"),s()(),a(18,"div",8)(19,"button",9),c(20,"Sign In"),s()(),a(21,"div",10)(22,"a",11),c(23,"Forgot password?"),s(),a(24,"a",12),c(25,"Create account?"),s()()()(),p(26,"div",13),a(27,"h6"),c(28,"OR LOGIN USING"),s(),a(29,"button",14),g("click",function(){return i.signInWith("Google")}),c(30,"Google"),s(),a(31,"button",14),g("click",function(){return i.signInWith("Facebook")}),c(32,"Facebook"),s()()()()()),t&2&&(d(5),Z(i.error),d(3),h("formGroup",i.loginForm))},dependencies:[oe,ne,V,q,G,N,j,xe,P,E,x,A,M,C,S,F,I,R,B,L,O,T,k,K,y,$],styles:[".fill-client-area[_ngcontent-%COMP%]{width:100%;height:100%;background:#d1d1d1}.gray[_ngcontent-%COMP%]{background:#d1d1d1}.error[_ngcontent-%COMP%]{color:red}.horizontal_rule[_ngcontent-%COMP%]{border-bottom:1px solid rgb(209,209,209);width:100%;text-align:center}"]});let n=r;return n})();function Pe(n,r){if(n&1){let it=Qt();a(0,"div",1)(1,"button",2),g("click",function(){Tt(it);let t=gt();return Ot(t.action())}),c(2),s()()}if(n&2){let it=gt();d(2),yt(" ",it.data.action," ")}}var Le=["label"];function Be(n,r){}var Re=Math.pow(2,31)-1,at=class{constructor(r,it){this._overlayRef=it,this._afterDismissed=new z,this._afterOpened=new z,this._onAction=new z,this._dismissedByAction=!1,this.containerInstance=r,r._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(r){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(r,Re))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},we=new ht("MatSnackBarData"),et=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},Te=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=st({type:r,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let n=r;return n})(),Oe=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=st({type:r,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let n=r;return n})(),je=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=st({type:r,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let n=r;return n})(),Ne=(()=>{let r=class r{constructor(e,t){this.snackBarRef=e,this.data=t}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};r.\u0275fac=function(t){return new(t||r)(l(at),l(we))},r.\u0275cmp=_({type:r,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[b],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(t,i){t&1&&(a(0,"div",0),c(1),s(),H(2,Pe,3,1,"div",1)),t&2&&(d(),yt(" ",i.data.message,`
`),d(),Ht(2,i.hasAction?2:-1))},dependencies:[y,Te,Oe,je],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let n=r;return n})(),Ge={snackBarState:be("state",[Ct("void, hidden",lt({transform:"scale(0.8)",opacity:0})),Ct("visible",lt({transform:"scale(1)",opacity:1})),St("* => visible",Mt("150ms cubic-bezier(0, 0, 0.2, 1)")),St("* => void, * => hidden",Mt("75ms cubic-bezier(0.4, 0.0, 1, 1)",lt({opacity:0})))])},qe=0,Ve=(()=>{let r=class r extends _e{constructor(e,t,i,o,m){super(),this._ngZone=e,this._elementRef=t,this._changeDetectorRef=i,this._platform=o,this.snackBarConfig=m,this._document=Gt(Kt),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new z,this._onExit=new z,this._onEnter=new z,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${qe++}`,this.attachDomPortal=f=>{this._assertNotAttached();let U=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),U},m.politeness==="assertive"&&!m.announcementMessage?this._live="assertive":m.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}onAnimationEnd(e){let{fromState:t,toState:i}=e;if((i==="void"&&t!=="void"||i==="hidden")&&this._completeExit(),i==="visible"){let o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(m=>e.classList.add(m)):e.classList.add(t)),this._exposeToModals();let i=this._label.nativeElement,o="mdc-snackbar__label";i.classList.toggle(o,!i.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<t.length;i++){let o=t[i],m=o.getAttribute("aria-owns");this._trackedModals.add(o),m?m.indexOf(e)===-1&&o.setAttribute("aria-owns",m+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let i=t.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),t=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&t){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),t.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};r.\u0275fac=function(t){return new(t||r)(l(Ut),l(jt),l(Vt),l(Jt),l(et))},r.\u0275cmp=_({type:r,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,i){if(t&1&&(_t(wt,7),_t(Le,7)),t&2){let o;bt(o=vt())&&(i._portalOutlet=o.first),bt(o=vt())&&(i._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(t,i){t&1&&$t("@state.done",function(m){return i.onAnimationEnd(m)}),t&2&&Zt("@state",i._animationState)},standalone:!0,features:[zt,b],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1,2)(3,"div",3),H(4,Be,0,0,"ng-template",4),s(),p(5,"div"),s()()),t&2&&(d(5),Wt("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[wt],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[Ge.snackBarState]}});let n=r;return n})();function Ue(){return new et}var ze=new ht("mat-snack-bar-default-options",{providedIn:"root",factory:Ue}),Me=(()=>{let r=class r{get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,t,i,o,m,f){this._overlay=e,this._live=t,this._injector=i,this._breakpointObserver=o,this._parentSnackBar=m,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ne,this.snackBarContainerComponent=Ve,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",i){let o=Q(Q({},this._defaultConfig),i);return o.data={message:e,action:t},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=ot.create({parent:i||this._injector,providers:[{provide:et,useValue:t}]}),m=new kt(this.snackBarContainerComponent,t.viewContainerRef,o),f=e.attach(m);return f.instance.snackBarConfig=t,f.instance}_attach(e,t){let i=Q(Q(Q({},new et),this._defaultConfig),t),o=this._createOverlay(i),m=this._attachSnackBarContainer(o,i),f=new at(m,o);if(e instanceof qt){let U=new ge(e,null,{$implicit:i.data,snackBarRef:f});f.instance=m.attachTemplatePortal(U)}else{let U=this._createInjector(i,f),Se=new kt(e,void 0,U),Ae=m.attachComponentPortal(Se);f.instance=Ae.instance}return this._breakpointObserver.observe(ee.HandsetPortrait).pipe(Rt(o.detachments())).subscribe(U=>{o.overlayElement.classList.toggle(this.handsetCssClass,U.matches)}),i.announcementMessage&&m._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(f,i),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration))}_createOverlay(e){let t=new ve;t.direction=e.direction;let i=this._overlay.position().global(),o=e.direction==="rtl",m=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,f=!m&&e.horizontalPosition!=="center";return m?i.left("0"):f?i.right("0"):i.centerHorizontally(),e.verticalPosition==="top"?i.top("0"):i.bottom("0"),t.positionStrategy=i,this._overlay.create(t)}_createInjector(e,t){let i=e&&e.viewContainerRef&&e.viewContainerRef.injector;return ot.create({parent:i||this._injector,providers:[{provide:at,useValue:t},{provide:we,useValue:e.data}]})}};r.\u0275fac=function(t){return new(t||r)(W(ye),W(ie),W(ot),W(te),W(r,12),W(ze))},r.\u0275prov=Nt({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})();var pt=(()=>{let r=class r{constructor(e,t,i,o){this.router=e,this.formBuilder=t,this.afAuth=i,this.snackBar=o,this.recoverForm=this.formBuilder.group({email:["",[u.required,u.email]]}),this.error=""}ngOnInit(){this.recoverForm=this.formBuilder.group({email:["",[u.required,u.email]]})}recover(){return v(this,null,function*(){let e=this.recoverForm.get("email").value;try{yield de(this.afAuth,e),this.router.navigate(["/auth/login"])}catch{console.log("RecoverComponent: Error requesting password reset for email"),this.snackBar.open("Error requesting password reset for email","Close",{duration:3e3})}})}};r.\u0275fac=function(t){return new(t||r)(l(w),l(re),l(D),l(Me))},r.\u0275cmp=_({type:r,selectors:[["app-recover"]],standalone:!0,features:[b],decls:17,vars:2,consts:[["fxLayout","column","fxLayoutAlign","start center","fxFlexFill","",1,"gray"],["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","10px"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","","fxLayoutAlign","space-around"],["matInput","","formControlName","email","type","email","placeholder","Email"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary","type","submit","aria-label","login",3,"disabled"],["mat-button","","routerLink","/auth/login"]],template:function(t,i){t&1&&(a(0,"app-toolbar"),c(1,"Recover Your Password"),s(),a(2,"div",0)(3,"div",1)(4,"mat-card")(5,"form",2),g("ngSubmit",function(){return i.recover()}),a(6,"div",3)(7,"mat-form-field"),p(8,"input",4),a(9,"mat-error"),c(10,"Invalid email"),s()(),p(11,"BR"),a(12,"div",5)(13,"button",6),c(14,"Recover"),s(),a(15,"a",7),c(16,"Remembered your password?"),s()()()()()()()),t&2&&(d(5),h("formGroup",i.recoverForm),d(8),h("disabled",i.recoverForm.invalid))},dependencies:[Y,V,q,G,N,j,J,P,E,x,A,M,C,S,F,I,R,B,L,O,T,k,K,y,$],styles:[".fill-client-area[_ngcontent-%COMP%]{width:100%;height:100%;background:#d1d1d1}.gray[_ngcontent-%COMP%]{background:#d1d1d1}.error[_ngcontent-%COMP%]{color:red}"]});let n=r;return n})();function He(n,r){n&1&&(a(0,"mat-hint",2),c(1,"Passwords do not match"),s())}var ft=(()=>{let r=class r{constructor(e,t,i){this.router=e,this.formBuilder=t,this.afAuth=i,this.error="",this.signupForm=this.formBuilder.group({email:["",[u.required,u.email]],password:["",u.required],confirmPassword:["",u.required]},{validator:this.passwordMissMatch})}passwordMissMatch(e){let t=e.get("password"),i=e.get("confirmPassword"),o={};return(t.touched||i.touched)&&t.value!==i.value&&i!==null&&(o={passwordMissMatch:!0}),o}signup(){return v(this,null,function*(){let e=this.signupForm.get("email").value,t=this.signupForm.get("password").value;this.error="";try{yield ce(this.afAuth,e,t);let i=yield this.afAuth.currentUser;i?me(i):console.log("User enexpectely null"),this.router.navigateByUrl("/user")}catch(i){i instanceof Error?(console.log("SignupComponent: Error creating user code:"+i.message),this.error=i.message):console.log("SignupComponent: unexpected error")}})}};r.\u0275fac=function(t){return new(t||r)(l(w),l(X),l(D))},r.\u0275cmp=_({type:r,selectors:[["app-signup"]],standalone:!0,features:[b],decls:27,vars:4,consts:[["fxLayout","column","fxLayoutAlign","start center","fxFlexFill","",1,"gray"],["fxLayout","column","fxLayoutAlign","space-around center","fxLayoutGap","10px"],[1,"error"],[3,"formGroup","ngSubmit"],["fxLayout","column","fxFlex","","fxLayoutAlign","space-around"],["matInput","","formControlName","email","type","email","placeholder","Email"],["matInput","","formControlName","password","type","password","placeholder","Password"],["matInput","","formControlName","confirmPassword","type","password","placeholder","Confirm Password"],["class","error",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-raised-button","","color","primary","type","submit","aria-label","Signup",3,"disabled"],["mat-button","","routerLink","/auth/login"]],template:function(t,i){t&1&&(a(0,"app-toolbar"),c(1,"Register user"),s(),a(2,"div",0)(3,"div",1)(4,"div",2),c(5),s(),a(6,"mat-card")(7,"form",3),g("ngSubmit",function(){return i.signup()}),a(8,"div",4)(9,"mat-form-field"),p(10,"input",5),a(11,"mat-error"),c(12,"Invalid email"),s()(),a(13,"mat-form-field"),p(14,"input",6),a(15,"mat-error"),c(16,"Password required"),s()(),a(17,"mat-form-field"),p(18,"input",7),a(19,"mat-error"),c(20,"Confirm password required"),s(),H(21,He,2,0,"mat-hint",8),s(),a(22,"div",9)(23,"button",10),c(24,"Sign up"),s(),a(25,"a",11),c(26,"Already have user name"),s()()()()()()()),t&2&&(d(5),Z(i.error),d(2),h("formGroup",i.signupForm),d(14),h("ngIf",i.signupForm.errors&&i.signupForm.errors.passwordMissMatch),d(2),h("disabled",i.signupForm.invalid))},dependencies:[Y,V,q,G,N,j,J,P,E,x,A,M,C,S,F,I,R,B,mt,L,O,T,ct,k,K,y,$],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif}.fill-client-area[_ngcontent-%COMP%]{width:100%;height:100%;background:#d1d1d1}.gray[_ngcontent-%COMP%]{background:#d1d1d1}.error[_ngcontent-%COMP%]{color:red}.horizontal_rule[_ngcontent-%COMP%]{border-bottom:1px solid rgb(209,209,209);width:100%;text-align:center}"]});let n=r;return n})();var Qe=[{path:"login",component:ut},{path:"signup",component:ft},{path:"recover",component:pt},{path:"change-password",component:dt,canActivate:[ke]}],Ce=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=rt({type:r}),r.\u0275inj=nt({imports:[xt.forChild(Qe),xt]});let n=r;return n})();var Sr=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=rt({type:r}),r.\u0275inj=nt({imports:[Xt,x,Ce,ut,pt,ft,dt]});let n=r;return n})();export{Sr as AuthModule};
